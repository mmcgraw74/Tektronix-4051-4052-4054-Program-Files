1 REM:ROUTINE: SET KEY2 GO TO 250003 END 4 REM:ROUTINE: MINIMUM AND MAXIMUM FOR ENTIRE CHROMATOGRAM5 R1=16 GO TO 140007 END 8 REM:ROUTINE: SCALE AND PLOT ENTIRE CHROMATOGRAM9 R1=210 GO TO 1300012 REM:ROUTINE: DATA TO TAPE13 GO TO 100016 REM:ROUTINE: PLOT ENTIRE CHROMATOGRAM17 R1=218 GO TO 1303020 REM: This key for returning to BASIC from "Data to Tape" mode.22 END 24 REM:ROUTINE: CHANGE ORDINATE AND ABSCISSA25 GO TO 631028 REM:ROUTINE: PLOT SELECTOR29 GO TO 400032 REM:ROUTINE: LABEL UNDER CHROMATOGRAM33 PRINT USING 15180:34 END 36 REM:ROUTINE: READ TAPE37 GO TO 1600040 REM:ROUTINE: DISPLATY ONLY (TERMINAL MODE)41 GO TO 700042 END 44 REM:ROUTINE: MINIMUM AND MAXIMUM, SPECIFIC INTERVAL45 GO TO 800052 REM:ROUTINE: DATA TO TAPE (NO INSTRUCTIONS)53 PAGE 54 GO TO 116056 REM:ROUTINE: MOLECULAR SIZE LABEL57 GO TO 1700060 REM:ROUTINE: DISPLAY MOLECULAR SIZE61 GO TO 1800064 REM:ROUTINE: PRINT TIMES AND MIN-MAX65 GO TO 2000068 REM:ROUTINE: CONTINUE OVER-PLOT69 GO TO 1900072 REM:ROUTINE: LABEL ABOVE CHROMATOGRAM73 HOME 74 END 94 REM *****************************************************95 REM *** CHROMATOGRAPHIC DATA ACQUISITION AND PLOTTING ***96 REM *** (CHROMPLOT)    51/00-5204/0                   ***97 REM *** LEONARD H. PONDER, AMERICAN ENKA CO.          ***98 REM *****************************************************1000 REM:ROUTINE: DATA TO TAPE1002 REM: USERS OF INTEGRATORS OTHER THAN "SUPERGRATORS" MAY NEED TO1003 REM  CHANGE VALUE OF T$ AND S$ FOR DATA RECEIVE MODE.  TRANSMISSION1004 REM  RATE IS 2400 BAUD, BUT MAY BE CHANGED BELOW.1060 PRINT "====================================="1070 PRI "Transmission of data to tape may be ended at specified time"1080 PRINT "(for example, 5.10 minutes, etc.) OR by other"1090 PRINT "numeric characters input from Supergrator keyboard."1100 PRI "If using a time, note that the time specified must be output"1110 PRINT "from the integrator."1120 PRINT "The decimal should normally be included."1140 PRINT "If it is desired NOT to select a termination character,"1150 PRINT "simply press RETURN. "1160 PRINT "====================================="1170 PRINT "NOW ENTER THE CHARACTER(S) TO BE USED AT END OF DATA ";1180 INPUT S$1182 A$=CHR(13)1184 T$="VALUE"&A$1190 PRINT "NOTICE"1200 PRINT "Press RETRUN key 4 or 5 times RAPDILY after entering ";1210 PRINT "File Number ";1220 INPUT N1230 PRINT "WAIT: file location being found!"1240 FIND N1260 IF S$="" THEN 12801270 A$="0"1272 GO TO 12901280 B$=CHR(13)1282 C$=" "1284 S$=C$&B$1286 S$=S$&C$1287 A$=S$1290 CALL "cminit"1300 CALL "rstrin",T$,"",S$1310 CALL "rate",2400,0,21330 CALL "cmtest"1340 PRINT "READY TO WRITE ON TAPE AT POSITION ";N;".  Termination";1342 IF A$=S$ THEN 13541350 PRINT " character(s): ";S$1352 GO TO 13601354 PRINT " by STOP & PAPER keys"1360 PRINT "  Press integrator START when ready."1370 PRINT ""1380 CALL "dtrecv"1390 CLOSE 1430 PRINT "          "1440 PRINT "                    DATA TRANSMISSION TO"1450 PRINT "                    TAPE ENDED "1460 PRINT "                     (";S$;")"1470 PRINT ""1480 END 2000 REM:ROUTINE: MINIMUM AND MAXIMUM2010 P1=02020 FIND N2030 Y2=-1.0E+3002040 Y5=Y22050 Y1=1.0E+3002060 INPUT @33:T1,D12070 ON EOF (0) THEN 22802071 REM: See line 30512072 IF A=0 THEN 20802074 IF N=2 THEN 20772075 IF N=5 THEN 20792076 GO TO 20802077 T1=T1+12078 GO TO 20802079 T1=T1+12080 IF T1<X1 THEN 20602090 IF T1>X2 THEN 22802100 IF C8=0 THEN 21502110 IF Z1=1 THEN 21502120 IF T1<C5 THEN 21502140 IF T1<C6 THEN 22002150 IF T1=N THEN 22602160 IF D1=N THEN 20602170 REM  T3 has value of t1 read, or if end of file, the previous t1.2180 T3=T12190 Y2=Y2 MAX D12200 Y1=Y1 MIN D12210 IF Y2>Y5 THEN 22302220 GO TO 20602230 T2=T12240 Y5=Y22250 GO TO 20602260 P1=P1+12270 IF P1<2 THEN 20602280 GO TO R1 OF 14070,14070,5230,60803000 REM:ROUTINE:  PLOT3010 FIND N3020 P1=03030 K7=-13040 INPUT @33:T1,D13050 ON EOF (0) THEN 33303051 REM: add to t1; see also 3211, 4016, and 2071; MUST SET A=1.3052 IF A=0 THEN 30603054 IF N=2 THEN 30573055 IF N=5 THEN 30593056 GO TO 30603057 T1=T1+13058 GO TO 30603059 T1=T1+13060 K7=K7+13070 IF K7<K8 THEN 30403080 IF T1<X1 THEN 30303090 IF T1>X2 THEN 33303100 IF T1=N THEN 31303110 IF D1=N THEN 30303120 GO TO 31603130 P1=P1+13140 IF P1<2 THEN 30303150 GO TO 33303160 IF C8=0 THEN 31803170 T1=T1/C3180 IF L=0 THEN 31883182 T1=U1+U2*T13188 MOVE T1,D13190 K7=-13200 INPUT @33:T1,D13210 ON EOF (0) THEN 33303211 REM: See line 30513212 IF A=0 THEN 32203214 IF N=2 THEN 32173215 IF N=5 THEN 32193216 GO TO 32203217 T1=T1+13218 GO TO 32203219 T1=T1+13220 K7=K7+13230 IF K7<K8 THEN 32003240 IF T1>X2 THEN 33303250 IF T1=N THEN 33103260 IF D1=N THEN 32003270 IF C8=0 THEN 32903280 T1=T1/C3290 IF L=0 THEN 32983292 T1=U1+U2*T13298 DRAW T1,D13300 GO TO 31903310 P1=P1+13320 IF P1<2 THEN 32003330 COPY 3335 GO TO R1 OF 7,9000,3340,3340,62503340 PRINT "Incorrect code for R1 at line 3330."3350 END 4000 REM:ROUTINE: PLOT SELECTOR4010 INIT 4015 SET KEY 4016 REM: Set A=1 for adding to t1 ; see line 30514017 A=04020 R=14030 PRINT USING 15110:4040 PRINT "ANSWER QUESTIONS in lower case with 0 for NO and 1 for YES"4050 PRINT "  `'      `'     IN CAPS WITH APPRORAITE NUMERICAL VALUE."4060 PRINT "HOW MANY POINTS TO SKIP IN PLOTTING? ";4070 INPUT K84080 PRINT "Relative retention? ";4090 INPUT C84100 IF C8=0 THEN 41904110 PRINT "Include reference peak in determining maximum for chrom";4120 PRINT "atogram? ";4130 INPUT Z14140 PRINT "Reference peak time to be found? ";4150 INPUT C74160 IF C7=1 THEN 41704165 IF Z1=1 THEN 42204170 PRINT "      TIME INTERVAL (BEGIN, END): ";4180 INPUT C5,C64185 GO TO 42104190 C=14200 C7=14210 PRINT "TIME AXIS FOR CHROMATOGRAM (MIN,MAX): ";4220 INPUT E1,E24230 PRINT USING 15170:4240 INPUT N14250 IF N1>1 THEN 42804260 W1=04270 GO TO 43004280 PRINT "      More than one tape to be used? ";4290 INPUT W14300 PRINT "Are minimum and maximum responses known? ";4310 INPUT C94320 IF C9=0 THEN 43604330 PRINT "Are minima and maxima responses the same for all chromato";4340 PRINT "grams? ";4350 INPUT C14360 REM If desired, a PAGE command may be inserted here.4370 REM  Loop to read files nos. and min-max responses (if known).4375 DIM F(10)4380 DIM Y3(N1),Y4(N1),C4(N1),M1(N1)4390 FOR I=1 TO N14400 IF C7=1 THEN 44604410 PRINT "FILE NO. ";I;": ";4420 INPUT F(I)4430 PRINT "   Reference peak time: ";4440 INPUT C4(I)4450 GO TO 44804460 PRINT "FILE NO. ";I;": ";4470 INPUT F(I)4480 IF C9=0 THEN 45604490 IF I=1 THEN 45104500 IF C1=1 THEN 45404510 PRINT "Min and Max Responses for ";F(I);"? ";4520 INPUT Y3(I),Y4(I)4530 GO TO 45604540 Y3(I)=Y3(I-1)4550 Y4(I)=Y4(I-1)4560 NEXT I4570 IF C9=1 THEN 49904580 PRINT "Are Min and Max for Chromatogram to be Found Between ";E1;4590 PRINT " and ";E2;" ? ";4600 INPUT C34610 IF C3=0 THEN 46504620 E3=E14630 E4=E24640 GO TO 49904650 PRINT "   INTERVAL (BEGIN, END): ";4660 INPUT E3,E44990 PRINT "Which Axis (0=TIME; 1=LOG Molecular Size)? ";4991 INPUT L4992 IF L=0 THEN 49994993 PRINT "From equation of log molecular size vs. time (or relative):"4994 PRINT "   A = ";4995 INPUT U14996 PRINT "   (Don't forget sign!)B = ";4997 INPUT U24999 PAGE 5000 REM:ROUTINE: OVER-PLOT5002 REM: TO MODIFY OR CONTINUE PLOTS, ONE MAY CHANGE THE VALUE OF THE5003 REM  REQUIRED VARIABLES (SEE VARIABLE LIST IN DOCUMENTATION) AND5004 REM  BEGIN PROGRAM BY "RUN 5000".5010 DIM C4(N1),M(N1)5020 IF C8>0 THEN 50405030 C4(1)=15040 FOR I=1 TO N15050 IF W1=0 THEN 51305060 IF I>1 THEN 51105070 PRINT "REMEMBER:  Prese RETURN after each chromatogram is ";5080 PRINT "plotted."5090 PRINT "           Bell will Ring to remind you."5100 PRINT "Now press RETURN to Continue "5110 PRINT "   ";5120 INPUT W$5130 IF C9=1 THEN 52605140 N=F(I)5145 X1=E35146 X2=E45150 R1=35220 REM Find min-max5221 GO TO 20005230 Y3(I)=Y15240 Y4(I)=Y25245 M(I)=T25250 T6=T35260 IF C8=0 THEN 61005270 IF C7=1 THEN 60005280 C=C4(I)5290 GO TO 61006000 N=F(I)6010 X1=C56020 X2=C66030 IF Z1=1 THEN 60606040 R=06050 Z1=16060 R1=46070 REM Find ref peak time6071 GO TO 20006080 C4(I)=T26090 C=T26094 REM Restore z1 if changed6095 IF R=1 THEN 61006097 Z1=R6100 REM Set up for plotting6102 VIEWPORT 0,130,20,1006105 X1=E16110 X2=E26120 N=F(I)6150 IF I>1 THEN 62206161 X8=E1/C4(1)6162 X9=E2/C4(1)6163 IF L=0 THEN 61886164 IF X8=0 THEN 61666165 GO TO 61686166 X8=1.0E-5/C4(1)6168 X8=U1+U2*X86170 X9=U1+U2*X96174 IF X8<X9 THEN 61886176 REM  REVERSE X8 and X9 for plotting (required by Window)6178 L1=X86180 X8=X96182 X9=L16188 WINDOW X8,X9,Y3(I),Y4(I)6200 PAGE 6210 AXIS (X9-X8)/50,0,X8,Y4(1)6212 GO TO 62406220 WINDOW X8,X9,Y3(I),Y4(I)6240 R1=56245 GO TO 30006250 NEXT I6260 GO TO 90506310 REM:ROUTINE: CHANGE ORDINATE AND ABSCISSA6320 PRINT "For changing min and max response levels (scale values)"6330 PRINT " and time intervals."6334 PRINT "Present Values"6335 PRINT "   Ordinate, min & man: ";Y1;Y26336 PRINT "   Abscissa: from ";X1;" to ";X26340 PRINT "Min Response ";6350 INPUT Y$6352 IF Y$="" THEN 63606354 Y1=VAL(Y$)6360 PRINT "Max Response ";6370 INPUT Y$6372 IF Y$="" THEN 63806374 Y2=VAL(Y$)6380 PRINT "Min Time ";6390 INPUT Y$6392 IF Y$="" THEN 64006394 X1=VAL(Y$)6400 PRINT "Max Time ";6410 INPUT Y$6412 IF Y$="" THEN 64206414 X2=VAL(Y$)6420 END 7000 REM:ROUTINE: DISPLAY ONLY (TERMINAL MODE)7002 CALL "CMINIT"7004 CALL "RATE",2400,0,27006 CALL "MARGIN",2,0,17007 CALL "BREAK",0," "," "7010 PAGE 7040 PRINT "REMBMER: To end Terminal Mode, press KEY 5."7050 PRINT "To enter Terminal Mode, RAPIDLY press RETURN key 4 or 5";7051 PRINT "times."7060 INPUT D$7070 CALL "cmtest"7080 PAGE 7090 PRINT "           Terminal Mode Entered"7100 CALL "termin"7110 PRINT "                      TERMINAL MODE ENDED"7120 END 8000 REM: ROUTINE: MINIMUM AND MAXIMUM, SPECIFIC INTERVAL8010 PRINT "File No. ";8020 INPUT N8030 PRINT "Time Interval (min,max) ";8040 INPUT X1,X28050 PRINT "For File ";N;" --} ";8055 R1=18056 C8=08060 GO TO 20008070 PRINT "RESPONSES: Min ";Y1;" Max ";Y2;" at ";T2;" Min "8080 RETURN 9000 REM:ROUTINE: LABEL A9010 PRINT USING 15180:9020 PRINT USING 15140:X1,T39030 HOME 9040 END 9048 REM:ROUTINE: LABEL B9050 PRINT USING 15180:9060 PRINT USING 15140:E1,E2;9066 PRINT USING 15200:X8,X99070 IF C8=0 THEN 91009090 PRINT USING 15210:9092 IF L=0 THEN 91009094 PRINT USING 15220:9100 HOME 9105 COPY 9110 END 13000 REM:ROUTINE: SCALE AND PLOT ENTIRE CHROMATOGRAM13010 REM: To obtain faster plot, increase value of K8 in next line.13020 GO TO 1400013030 K8=013040 VIEWPORT 0,130,20,10013060 WINDOW 0,T3,Y1,Y213070 PRINT ""13080 AXIS 13085 L=013090 GO TO 300014000 REM:ROUTINE: MINIMUM AND MAXIMUM FOR ENTIRE CHROMATOGRAM14010 X1=014020 X2=99914030 C8=014040 PRINT USING 15080:N14050 PRINT USING 15090:X114060 GO TO 200014070 PRINT USING 15100:Y1,Y214080 PRINT USING 15120:T214090 GO TO R1 OF 7,1303014100 PRINT "r1 value incorrect!! ";"r1= ";R1;" Check program."14110 END 15000 REM  List of Image Statements15080 IMAGE"Finding MINIMUM and MAXIMUM for FILE NO. ",FD15090 IMAGE"Time interval: ",4d.2d," to end of file."15100 IMAGE "Minimum: ",fd,"   Maximum: ",fd15110 IMAGE "INSERT DATA TAPE"15120 IMAGE"Time at maximum: ",4d.2d15140 IMAGE "Time:",3d.2d," to",3d.2d,"."15160 IMAGE "(Relative:",4d.2d," to",4d.2d,".) Last ref. pk. at",3d.2d15170 IMAGE "   = NO. OF FILES TO BE PLOTTED TOGETHER"15180 IMAGE ""15200 IMAGE "	               X-Axis:",3d.2d," to",3d.2d15210 IMAGE "			       (Relative)"15220 IMAGE "	               LOG MOLECULAR SIZE"15230 IMAGE "Pos.",2d,": A=",9d15250 IMAGE "		Pos.",2d,": A=",9d15260 IMAGE "		Pos.",2d,": A=",9d16000 REM:ROUTINE:  READ TAPE16010 PAGE 16020 PRINT "FILE NO. ? ";16030 INPUT N16040 FIND N16050 INPUT @33:A$16055 ON EOF (0) THEN 1608016070 GO TO 1605016080 PRINT "END OF FILE FOUND"16090 END 17000 REM:ROUTINE:  MOLECULAR SIZE17005 REM Maximum of five printouts17010 PRINT USING 15180:17020 PRINT 17030 FOR I=1 TO N117032 IF C8=0 THEN 1704017034 M1(I)=M(I)/C4(I)17036 M2=U1+U2*M1(I)17038 GO TO 1705017040 M2=U1+U2*M(I)17050 M2=10^M217055 IF I<4 THEN 1715617060 IF I=4 THEN 1709017070 IF I=5 THEN 1711017090 PRINT USING 15250:F(I),M217100 GO TO 1717017110 PRINT USING 15260:F(I),M217120 GO TO 1718017156 PRINT USING 15230:F(I),M217170 NEXT I17180 HOME 17190 END 18000 REM:ROUTINE: DISPLAY MOLECULAR SIZE18010 PAGE 18030 FOR I=1 TO N118032 IF C8=0 THEN 1704018034 M1(I)=M(I)/C4(I)18036 M2=U1+U2*M1(I)18038 GO TO 1805018040 M2=U1+U2*M(I)18050 M2=10^M218156 PRINT USING 15230:F(I),M218170 NEXT I18190 END 19000 REM:ROUTINE: CONTINUE OVER-PLOT19010 PAGE 19020 PRINT USING 15170:19030 INPUT N119040 FOR I=1 TO N119050 PRINT "FILE NO. ";I;": ";19055 INPUT F(I)19060 NEXT I19070 PRINT "More than one tape to be used? ";19080 INPUT W119100 PAGE 19110 GO TO 500020000 REM:ROUTINE: PRINT TIMES AND MIN-MAX20004 PRINT " POS.  PEAK TIME   REF TIME   MIN  MAX"20005 FOR I=1 TO N120010 PRINT USING 20040:F(I),M(I),C4(I),Y3(I),Y4(I)20020 NEXT I20030 END 20040 IMAGE 3D,8D.2D,8D.2D,8D,6D25000 REM:ROUTINE: SET KEY25005 A=025010 SET KEY 25020 PRINT "Use keys for specific functions."25030 END 40000 REM:ROUTINE: PRINT MIN, MAX, APEX, REF, AND REL40010 PAGE 40020 FOR I=1 TO N140030 PRINT "For Pos. ";F(I);": Min=";Y3(I);" Max=";Y4(I);" Apex=";40040 PRINT M(I);" Ref=";C4(I);" Rel=";M(I)/C4(I)40050 NEXT I40060 END