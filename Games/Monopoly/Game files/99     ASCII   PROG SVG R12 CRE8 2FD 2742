90 REM SVG to R12 4051 Emulator Conversion PGM MCM Nov 6, 202391 REM Edit SVG using SVG NEW or HPGL instructions for M /w multiple L92 REM edited SVG format - first line=title, 2nd line=attribution/src93 REM 1,X,Y Move, 0,X,Y Draw, 2=Error, 3,0,0 END of DATA, 4=maxX,maxY94 REM Optional 5=Xoffset,Yoffset (default 0,0) if not present before 495 REM Optional 6,-1,0 to invert Y(default 1,0) if not present before 496 REM program will position image on screen based on 4,5, and 697 REM Configure 405x Emulator for Flash Drive on GPIB 5 and 698 REM load files 7,119,LAST,and ASCII SVG into 5 and RUN 799 REM load output R12 BINARY file into Flash Drive@6:100 INIT 110 DIM F$(72),E$(4096),R(2),R$(3)120 PAGE 130 PRINT "INPUT Flash Drive @5: SVG ASCII DATA input file#: ";140 INPUT F5150 FIND @5:F5160 PRINT "OUTPUT Flash Drive @6: SVG ASCII DATA output file#: ";170 INPUT F6180 FIND @6:F6260 PAGE 270 V=0280 R=0290 N=1292 X0=0294 Y0=0296 V0=0298 V2=0300 WINDOW 0,130,0,100310 VIEWPORT 0,130,0,100320 R$=""330 E$=""340 INPUT @5:T$350 INPUT @5:C$360 L=LEN(T$)370 L=72-(L+LEN(C$))380 MOVE 0,100390 PRINT T$400 MOVE 1.8055*(LEN(T$)+L),100410 PRINT C$420 REM WRITE @6:T$,C$460 REM V=V+1470 REM IF V<4097 THEN 570475 REM V=V-1480 REM CALL "CHANGE",R,R$490 REM WRITE @6:R$500 REM X2=ABS(R(V*2-1))510 REM Y2=ABS(R(V*2))530 REM V=2540 REM R=0550 REM R(1)=-X2560 REM R(2)=-Y2570 INPUT @5:C,X,Y580 GO TO C+1 OF 590,610,700,880,630,720,750590 DRAW X,Y*N595 CALL "AGIN",R(1),R(2)598 CALL "CHANGE",R,R$599 E$=E$&R$600 GO TO 570610 MOVE X,Y*N612 CALL "AGIN",R(1),R(2)613 R(1)=-R(1)614 R(2)=-R(2)615 CALL "CHANGE",R,R$616 E$=E$&R$620 GO TO 570630 X1=X640 Y1=Y650 IF N=-1 THEN 680660 WINDOW X0,X1+X0,Y0,Y1+Y0670 GO TO 570680 WINDOW X0,X1+X0,Y0-Y1,Y0690 GO TO 570700 PRINT "2 is INVALID"710 GO TO 960720 X0=-X730 Y0=-Y740 GO TO 570750 N=X760 GO TO 570880 REM now write E$ TO THE Flash Drive940 WRITE @6:E$950 WRITE @6:"|EOG|"960 CLOSE 970 HOME 980 END 1000 REM R12 BINARY VIEWER1010 INIT 1015 REM WINDOW 0,130,0,1001020 DIM C$(255*3)1030 PAGE 1040 PRINT "Input Flash Drive @6: R12 BINARY file#: ";1050 INPUT F1060 PAGE 1070 FIND @6:F1080 READ @6:T$1090 READ @6:C$1110 L=LEN(T$)1120 L=72-(L+LEN(C$))1130 MOVE 0,1001140 PRINT T$1150 MOVE 1.8055*(LEN(T$)+L),1001160 PRINT C$1170 READ @6:C$1200 IF C$="|EOG|" THEN 12301210 CALL "RDRAW",C$,1,0,01220 GO TO 11701230 HOME 1240 END 1999 REM print the first 8 lines of ASCII SVG file2000 PRINT "Input Flash Drive @5: SVG ASCII file#: ";2010 INPUT F52020 FIND @5:F52030 FOR I=1 TO 82040 INPUT @5:T$2050 PRINT T$2060 NEXT I2070 END3000 FIN@6:113010 READ@6:E$3020 CALL "RDRAW",E$,1,0,03030 HOME