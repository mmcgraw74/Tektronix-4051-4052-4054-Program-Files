1 INIT 2 GO TO 1004 SET NOKEY 5 GOSUB 6006 SET KEY 7 RETURN 8 SET NOKEY 9 GOSUB 50010 SET KEY 11 RETURN 16 SET NOKEY 17 GOSUB 80018 SET KEY 19 RETURN 20 SET NOKEY 21 GOSUB 70022 SET KEY 23 RETURN 24 SET NOKEY 25 GOSUB 25026 SET KEY 27 RETURN 40 SET NOKEY 41 GOSUB 35042 SET KEY 43 RETURN 90 C1=C1+191 IF C1<13 THEN 9492 C1=193 REM VISIBILITY 12,094 REM STPOINT C1,H(1),V(1)95 REM VISIBILITY C1,196 REM VISIBILITY C1-1,097 A1=(C1-1)*3098 RETURN 100 PRINT "ICE RACES Requires Flash Disk and R12 Enhanced Graphics ROM"101 PRINT "Select the ICE RACES car from the following list:"102 PRINT "1 - Original OPTION 30 CAR"103 PRINT "2 - Lower vector R12 CAR (recommended for 4054)"104 PRINT "3 - Simpler R12 CAR (recommended for 4052)"105 PRINT "4 - Triangle CAR1 & Rectangle CAR2 (recommended for 4051)"106 PRINT "Input CAR (1, 2, 3, or 4): ";107 INPUT F108 IF F<1 OR F>4 THEN 220109 GO TO 5000110 C1=4120 C2=4130 S1=0140 S2=0150 C5=0155 I=0160 C6=0170 DIM L1(4),L2(4)180 L1=0190 L2=0200 L3=0210 L4=0220 GO TO 900250 REM ACCELERATION SUB CAR#1255 IF I<>0 THEN 300260 C5=5270 S1=S1+0.2 MIN 3280 X(1)=X(1)+SIN(A1)*0.5290 Y(1)=Y(1)+COS(A1)*0.5300 RETURN 350 REM ACCELERATION SUB CAR#2355 IF I<>0 THEN 400360 C6=5370 S2=S2+0.2 MIN 3380 X(2)=X(2)+SIN(A2)*0.5390 Y(2)=Y(2)+COS(A2)*0.5400 RETURN 500 REM ** TURN CAR #1 CLOCKWISE505 IF I<>0 THEN 590510 C1=C1+1520 IF C1<13 THEN 542530 C1=1542 GO TO C1 OF 543,545,547,549,551,553,555,557,559,561,563,565543 Y$=A$544 GO TO 570545 Y$=B$546 GO TO 570547 Y$=C$548 GO TO 570549 Y$=D$550 GO TO 570551 Y$=E$552 GO TO 570553 Y$=F$554 GO TO 570555 Y$=G$556 GO TO 570557 Y$=H$558 GO TO 570559 Y$=I$560 GO TO 570561 Y$=J$562 GO TO 570563 Y$=K$564 GO TO 570565 Y$=L$570 CALL "RDRAW",Y$,-2,H(1)-10,V(1)-10580 A1=(C1-1)*30590 RETURN 600 REM ** TURN CAR #1 CCW605 IF I<>0 THEN 690610 C1=C1-1620 IF C1>0 THEN 642630 C1=12642 GO TO C1 OF 643,645,647,649,651,653,655,657,659,661,663,665643 Y$=A$644 GO TO 670645 Y$=B$646 GO TO 670647 Y$=C$648 GO TO 670649 Y$=D$650 GO TO 670651 Y$=E$652 GO TO 670653 Y$=F$654 GO TO 670655 Y$=G$656 GO TO 670657 Y$=H$658 GO TO 670659 Y$=I$660 GO TO 670661 Y$=J$662 GO TO 670663 Y$=K$664 GO TO 670665 Y$=L$670 CALL "RDRAW",Y$,-2,H(1)-10,V(1)-10680 A1=(C1-1)*30690 RETURN 700 REM ** TURN CAR #2 CW705 IF I<>0 THEN 790710 C2=C2+1720 IF C2<13 THEN 742730 C2=1742 GO TO C2 OF 743,745,747,749,751,753,755,757,759,761,763,765743 Z$=M$744 GO TO 770745 Z$=N$746 GO TO 770747 Z$=O$748 GO TO 770749 Z$=P$750 GO TO 770751 Z$=Q$752 GO TO 770753 Z$=R$754 GO TO 770755 Z$=S$756 GO TO 770757 Z$=T$758 GO TO 770759 Z$=U$760 GO TO 770761 Z$=V$762 GO TO 770763 Z$=W$764 GO TO 770765 Z$=X$770 CALL "RDRAW",Z$,-2,H(2)-10,V(2)-10780 A2=(C2-1)*30790 RETURN 800 REM ** TURN CAR #2 CCW805 IF I<>0 THEN 890810 C2=C2-1820 IF C2>0 THEN 842830 C2=12842 GO TO C2 OF 843,845,847,849,851,853,855,857,859,861,863,865843 Z$=M$844 GO TO 870845 Z$=N$846 GO TO 870847 Z$=O$848 GO TO 870849 Z$=P$850 GO TO 870851 Z$=Q$852 GO TO 870853 Z$=R$854 GO TO 870855 Z$=S$856 GO TO 870857 Z$=T$858 GO TO 870859 Z$=U$860 GO TO 870861 Z$=V$862 GO TO 870863 Z$=W$864 GO TO 870865 Z$=X$870 CALL "RDRAW",Z$,-2,H(2)-10,V(2)-10880 A2=(C2-1)*30890 RETURN 900 REM *** DEFINE CARS902 REM Car 1 has 12 objects rotated at 30 degrees904 DIM A$(258),B$(258),C$(258),D$(258),E$(258),F$(258)906 DIM G$(258),H$(258),I$(258),J$(258),K$(258),L$(258),Y$(258)908 REM Car 2 has 12 objects rotated at 30 degrees910 DIM M$(267),N$(267),O$(267),P$(267),Q$(267),R$(267)912 DIM S$(267),T$(267),U$(267),V$(267),W$(267),X$(267),Z$(267)914 FIND @5:F+1916 READ @5:A$,B$,C$,D$,E$,F$,G$,H$,I$,J$,K$,L$918 READ @5:M$,N$,O$,P$,Q$,R$,S$,T$,U$,V$,W$,X$919 DELETE X,Y,Z920 SET DEGREES 1380 WINDOW 0,130,0,1001950 MOVE 10,201955 PRI "Press 1 and RETURN when ready OR 5 and RETURN to quit: ";1960 INPUT P1970 PAGE 1975 IF P=5 THEN 70001980 I=02000 REM ****2010 SET NOKEY 2020 REM CHARSIZE 22030 GO TO 21002040 PAGE 2050 MOVE 1,12060 PRINT @32,20:1,1,129,1,129,99,1,99,1,12070 MOVE 65,12080 PRINT @32,20:65,1,65,N1,M1,N1,M1,N2,M2,N2,M2,N1,65,N12081 MOVE 46.5,52.52082 REM CHARSIZE 42083 PRINT "LAPS             LAPS"2084 MOVE 46.5,492085 PRINT "#1                 #2"2086 MOVE 54.5,352087 PRINT "-0||||-5||||-10"2088 MOVE 72.5,352089 PRINT "0-||||5-||||10-"2099 RETURN 2100 REM horiz speed car 1-S(1,1), vert speed- S(1,2)2110 REM   "     "    "  2-S(2,1),  "     "    S(2,2)2120 REM   "  position " 1-H(1),    "  position V(1)2130 REM   "     "     " 2-H(2),    "     "     V(2)2140 DELETE X,Y,Z2150 DIM X(2),Y(2),A(2,2),S(2,2),H(2),V(2)2160 X=02170 S1=02180 Y=02190 S2=02200 A=02210 C5=02220 S=02230 C6=02240 H=612250 L1=02260 L2=02270 L3=02280 L4=02290 V(1)=82300 V(2)=172310 REM **** MOV HERE2320 WINDOW 0,130,0,1002330 REM VISIBILITY C1,02340 C1=32350 GOSUB 5002355 REM VISIBILITY C1,02360 REM VISIBILITY C2,02370 C2=32380 SET KEY 2390 GOSUB 7002395 REM VISIBILITY C2,02400 MOVE 25,622410 PRINT "EVEN RACE OR LAP ADVANTAGE (INPUT 1 OR 2): ";2420 INPUT P2430 IF P=1 THEN 25702440 IF P<>2 THEN 24002450 MOVE 25,602460 PRINT " WHICH CAR IS TO HAVE THE ADVANTAGE (INPUT 1 or 2): ";2470 INPUT P2480 IF P=1 OR P=2 THEN 25002490 GO TO 24502500 MOVE 25,582510 PRINT "HOW MANY LAP ADVANTAGE (5 MAX): ";2520 INPUT P12525 IF P1>5 OR P1<>INT(P1) THEN 25002530 IF P=2 THEN 25602540 L3=P12550 GO TO 25702560 L4=P12570 MOVE 25,562580 PRINT "NOVICE,INTERMEDIATE,OR EXPERT, 1, 2 or 3:  ";2590 INPUT P2600 IF P<>1 AND P<>2 AND P<>3 THEN 25702610 IF P=3 THEN 27002620 IF P=2 THEN 26602625 M1=452630 M2=852635 N1=352640 N2=652650 GO TO 27502660 M1=37.52665 M2=92.52670 N1=302675 N2=702680 GO TO 27502700 M1=302705 M2=1002710 N1=252715 N2=752750 REM 2770 GOSUB 20402780 REM CHARSIZE 42785 PRINT ""2800 REM don't print LAP bargraph for Car 1 and Car 2 if laps=02810 REM GOSUB 80002850 REM GOSUB 90002852 REM set S9=1 second FOR/NEXT delay based on 4050 machine type2854 IF RND(0)<>0.196324846518 THEN 28602855 S9=122856 GO TO 28702860 S9=252870 MOVE 63,502875 FOR I0=5 TO 1 STEP -12877 PRINT "";2880 FOR J=1 TO S92882 GO TO I0 OF 2883,2885,2887,2889,28912883 PRINT @32,24:"1"2884 GO TO 29102885 PRINT @32,24:"2"2886 GO TO 29102887 PRINT @32,24:"3"2888 GO TO 29102889 PRINT @32,24:"4"2890 GO TO 29102891 PRINT @32,24:"5"2910 NEXT J2930 NEXT I02935 MOVE 63,502937 PRINT "GO!"2940 PRINT ""2950 REM RDELETE 1023000 REM *** MAIN ROUTINE STARTS HERE3010 SET NOKEY 3020 A1=(C1-1)*303030 A2=(C2-1)*303040 S(1,1)=SIN(A1)*S13050 S(1,2)=COS(A1)*S13060 S(2,1)=SIN(A2)*S23070 S(2,2)=COS(A2)*S23080 S1=S1*0.983090 S2=S2*0.983100 H(1)=H(1)+S(1,1)+X(1) MAX 1 MIN 1293110 V(1)=V(1)+S(1,2)+Y(1) MAX 1 MIN 993120 H(2)=H(2)+S(2,1)+X(2) MAX 1 MIN 1293130 V(2)=V(2)+S(2,2)+Y(2) MAX 1 MIN 993140 X(1)=X(1)*0.953150 Y(1)=Y(1)*0.953160 X(2)=X(2)*0.953170 Y(2)=Y(2)*0.953180 IF C5=0 THEN 32103190 GOSUB 2703200 C5=C5-13210 IF C6=0 THEN 32403220 GOSUB 3703230 C6=C6-13240 SET KEY 3255 CALL "RDRAW",Y$,-2,H(1)-10,V(1)-103265 CALL "RDRAW",Z$,-2,H(2)-10,V(2)-103270 REM LX(1)=LEFT,(2)=TOP,(3)=RIGHT,(4)=BOTTOM3280 IF H(1)>M1 THEN 33003290 L1(1)=13300 IF H(2)>M1 THEN 33203310 L2(1)=13320 IF V(1)<N2 THEN 33403330 L1(2)=13340 IF V(2)<N2 THEN 33603350 L2(2)=13360 IF H(1)<M2 THEN 33803370 L1(3)=13380 IF H(2)<M2 THEN 34003390 L2(3)=13400 REM CROSS LINE ???3410 IF SUM(L1)<3 THEN 35203420 IF H(1)>61 AND H(1)<70 AND V(1)<N1 THEN 34503430 L1(4)=13440 GO TO 35203450 L1=03460 L3=L3+13490 GOSUB 80003510 IF L3=>10 THEN 42003520 IF SUM(L2)<3 THEN 36403530 IF H(2)>61 AND H(2)<70 AND V(2)<N1 THEN 35603540 L2(4)=13550 GO TO 36403560 L2=03570 L4=L4+13600 GOSUB 90003610 REM RCLOSE 3620 IF L4=>10 THEN 42003630 REM ** OF THE TRACK CHECK,M1,M2,N1,N2 ARE INFIELD LIMITS3640 IF H(1)<=1 OR H(1)=>129 OR V(1)<=1 OR V(1)=>99 THEN 37103650 IF H(1)>M1 AND H(1)<M2 AND V(1)>N1 AND V(1)<N2 THEN 37103660 IF H(2)<=1 OR H(2)=>129 OR V(2)<=1 OR V(2)=>99 THEN 37503670 IF H(2)>M1 AND H(2)<M2 AND V(2)>N1 AND V(2)<N2 THEN 37503680 IF ABS(H(1)-H(2))<5 AND ABS(V(1)-V(2))<5 THEN 37903690 Q1=03700 GO TO 30003710 X(1)=X(1)*0.53720 Y(1)=Y(1)*0.53730 S1=S1*0.53740 GO TO 36603750 X(2)=X(2)*0.53760 Y(2)=Y(2)*0.53770 S2=S2*0.53780 GO TO 36803790 REM CARS HIT3800 IF Q1<>0 THEN 30003810 Q1=ABS(X(1)-X(2))*0.53820 Q2=ABS(Y(1)-Y(2))*0.53830 IF X(1)<X(2) THEN 38803840 REM * X(1)<X(2)3850 X(1)=X(1)-Q13860 X(2)=X(2)+Q13870 GO TO 39103880 REM X(2)<X(1)3890 X(1)=X(1)+Q13900 X(2)=X(2)-Q13910 IF Y(1)<Y(2) THEN 39603920 REM Y(1)>Y(2)3930 Y(1)=Y(1)-Q23940 Y(2)=Y(2)+Q23950 GO TO 39903960 REM Y(2)>Y(1)3970 Y(1)=Y(1)+Q23980 Y(2)=Y(2)-Q23990 REM4000 Q1=ABS(S(1,1)-S(2,1))*0.54010 Q2=ABS(S(1,2)-S(2,2))*0.54020 IF S(1,1)<S(2,1) THEN 40704030 REM S(1,1)>S(2,1)4040 S(1,1)=S(1,1)-Q14050 S(2,1)=S(2,1)+Q14060 GO TO 41004070 REM S(2,1)>S(1,1)4080 S(1,1)=S(1,1)+Q14090 S(2,1)=S(2,1)-Q14100 IF S(1,2)<S(2,2) THEN 41504110 REM S(1,2)<S(2,2)4120 S(1,2)=S(1,2)-Q24130 S(2,2)=S(2,2)+Q24140 GO TO 41804150 REM S(2,2)>S(1,2)4160 S(1,2)=S(1,2)+Q24170 S(2,2)=S(2,2)-Q24180 Q1=04190 GO TO 30004200 REM WE HAVE A WINNER4210 SET NOKEY 4220 IF L4=>10 THEN 43004230 REM CHARSIZE 44240 MOVE 50,804250 PRINT "CAR #1 IS THE WINNER"4260 GO TO 43304270 MOVE 50,654280 PRINT "PRESS 'RETURN' TO PLAY AGAIN"4290 GO TO 20004300 REM CHARSIZE 44310 MOVE 50,804320 PRINT "CAR #2 IS THE WINNER"4330 REM CHARSIZE 24340 MOVE 40,704350 PRINT "PRESS 1 and RETURN TO PLAY AGAIN"4360 INPUT P4370 GO TO 20005000 REM INSTRUCTIONS5010 PAGE 5020 REM CHARSIZE 35030 PRINT "	Welcome to ";5040 REM CHARSIZE 45050 PRINT "   ICE RACES"5060 REM CHARSIZE 35070 PRINT "    We will be running 10 lap races today."5080 PRI "    The races will be run in a counter-clockwise direction."5090 PRINT "    Driving in the infield snow (9"" deep) or off the"5100 PRINT "    edge of the track(also 9"" deep) will make for some"5110 PRINT "    awful slow going."5120 PRI "    We will be using the user definable keys as follows."5140 ROTATE 05150 MOVE 20,855160 GOSUB 60005170 MOVE 35,855180 GOSUB 60005190 MOVE 50,855200 GOSUB 60005210 MOVE 65,855220 GOSUB 60005240 MOVE 80,855250 GOSUB 60005300 REM CHARSIZE 15310 MOVE 30,765320 PRINT "Car 1"5330 MOVE 75,765340 PRINT "Car 2"5350 MOVE 20.5,825360 PRINT "Turn CCW Turn CW"5370 MOVE 65.5,825380 PRINT "Turn CCW Turn CW"5382 MOVE 26,705384 PRINT "Gas"5386 MOVE 86,705388 PRINT "Gas"5390 REM CHARSIZE 35400 REM PRINT "The Game is being set up"5410 GO TO 1105990 END 6000 REM draw user key6010 RDRAW 14.8,06020 RDRAW 0,-56030 RDRAW -14.8,06040 RDRAW 0,56050 RMOVE 0,-126060 RDRAW 14.8,06070 RDRAW 0,-56080 RDRAW -14.8,06090 RDRAW 0,56100 RETURN 7000 REM QUIT7005 REM RINIT 7010 REM CHARSIZE 47020 PRINT "	OK, Thanks for the fun."7030 PRINT "	I'll get the menu for you"7040 FIND 17050 OLD 7060 RUN 7070 END 7999 REM Car 1 LAP Bar Graph routine8000 REM PRINT @32,18:58001 MOVE 54.5,37.88002 GO TO L3 OF 8003,8005,8007,8009,8011,8013,8015,8017,8019,80218003 PRINT "[]"8004 GO TO 35108005 PRINT "[][]"8006 GO TO 35108007 PRINT "[][][]"8008 GO TO 35108009 PRINT "[][][][]"8010 GO TO 35108011 PRINT "[][][][][]"8012 GO TO 35108013 PRINT "[][][][][][]"8014 GO TO 35108015 PRINT "[][][][][][][]"8016 GO TO 35108017 PRINT "[][][][][][][][]"8018 GO TO 35108019 PRINT "[][][][][][][][][]"8020 GO TO 35108021 PRINT "[][][][][][][][][][]"8023 RETURN 8999 REM Car 2 LAP Bar Graph routine9000 MOVE 74.3,37.89002 GO TO L4 OF 8003,8005,8007,8009,8011,8013,8015,8017,8019,80219003 PRINT "[]"9004 GO TO 35109005 PRINT "[][]"9006 GO TO 35109007 PRINT "[][][]"9008 GO TO 35109009 PRINT "[][][][]"9010 GO TO 35109011 PRINT "[][][][][]"9012 GO TO 35109013 PRINT "[][][][][][]"9014 GO TO 35109015 PRINT "[][][][][][][]"9016 GO TO 35109017 PRINT "[][][][][][][][]"9018 GO TO 35109019 PRINT "[][][][][][][][][]"9020 GO TO 35109021 PRINT "[][][][][][][][][][]"9023 RETURN 